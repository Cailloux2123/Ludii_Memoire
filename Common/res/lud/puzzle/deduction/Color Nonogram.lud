(game "Color Nonogram" 
    (players 1) 
    (equipment { 
        (board (square <Challenge:size>) (values Cell (range 0 8)))
        <Challenge:hints>
        (regions HintRegions) 
    }) 
    (rules
        (play (satisfy {
        	    (is Match colorHint:true 0)
            })
        )
        (end (if (is Solved) (result P1 Win)))
    )
)

//------------------------------------------------------------------------------

(option "Challenge" <Challenge> args:{<size> <hints>}
    {
    (item "2"
    		<2>
    		<
    		(hints
    			{
    			(hint {0 1} {1 1} {1 3})
    			(hint {2 3} {1 1} {1 3})
    			(hint {2 0} {1 1} {1 1})
    			(hint {3 1} {1 1} {3 3})
    			}
    		)>
    		""
    		
    )
    (item "3"
    		<3>
    		<
    		(hints
    			{
    			//Rows
    			(hint {0 1 2} {1 1 1} {1 3 1})
    			(hint {3 4 5} {1 1 1} {3 1 3})
    			(hint {6 7 8} {1 1 1} {1 3 1})
    			//Columns
    			(hint {6 3 0} {1 1 1} {1 3 1})
    			(hint {7 4 1} {1 1 1} {3 1 3 })
    			(hint {8 5 2} {1 1 1} {1 3 1})

    			}
    		)>
    		""
    		
    )
    (item "5" 
        <5>
        <
        (hints 
        	{
	        //Row
	        (hint {0 1 2 3 4} {5} {7})
	        (hint {5 6 7 8 9} {5} {3})
	        (hint {10 11 12 13 14} {5} {7})
	        (hint {15 16 17 18 19} {1} {7})
	        (hint {20 21 22 23 24} {1} {7})
	        
	        //Column
	        (hint {20 15 10 5 0} {1 1 1} {7 3 7})
	        (hint {21 16 11 6 1} {1 1 1} {7 3 7})
	        (hint {22 17 12 7 2} {3 1 1} {7 3 7})
	        (hint {23 18 13 8 3} {1 1 1} {7 3 7})
	        (hint {24 19 14 9 4} {1 1 1} {7 3 7})
        	}
        )>
        ""
    )
    (item "5 2"
    <5>
    <
    (hints
    	{
    	//Row
        (hint {0 1 2 3 4} {5} {6})
        (hint {5 6 7 8 9} {1 2} {3 6})
        (hint {10 11 12 13 14} {3} {3})
        (hint {15 16 17 18 19} {5} {8})
        (hint {20 21 22 23 24} {3} {8})
        
        //Column
        (hint {20 15 10 5 0} {1 1} {8 6})
        (hint {21 16 11 6 1} {2 2 1} {8 3 6})
        (hint {22 17 12 7 2} {2 1 2} {8 3 6})
        (hint {23 18 13 8 3} {2 1 2} {8 3 6})
        (hint {24 19 14 9 4} {1 1} {8 6})
    	}
    )
    >
    ""
    )
    (item "10" 
            <10>
            <
            (hints 
            	{
    	        
    	        (hint {90 91 92 93 94 95 96 97 98 99} {1 1} {8 8})
        		(hint {80 81 82 83 84 85 86 87 88 89} {3 1 1 3} {7 8 8 7})
        		(hint {70 71 72 73 74 75 76 77 78 79} {1 1 1 1 1 1} {7 4 7 8 8 7 4})
        		(hint {60 61 62 63 64 65 66 67 68 69} {1 2 1 3 1 2} {7 4 7 8 7 4})
        		(hint {50 51 52 53 54 55 56 57 58 59} {4 2 4} {7 8 7})
        		(hint {40 41 42 43 44 45 46 47 48 49} {3 2 3} {7 8 7})
        		(hint {30 31 32 33 34 35 36 37 38 39} {2 2 2} {7 8 7})
        		(hint {20 21 22 23 24 25 26 27 28 29} {1 1 2 1 1} {7 7 8 7 7})
        		(hint {10 11 12 13 14 15 16 17 18 19} {4 3} {7 7})
        		(hint {0 1 2 3 4 5 6 7 8 9} {2 2} {7 7})
        		(hint {90 80 70 60 50 40 30 20 10 0} {4} {7})
        		(hint {91 81 71 61 51 41 31 21 11 1} {1 1 2 2} {7 4 7 7})
        		(hint {92 82 72 62 52 42 32 22 12 2} {1 2 3 2} {7 4 7 7})
        		(hint {93 83 73 63 53 43 33 23 13 3} {8} {7})
        		(hint {94 84 74 64 54 44 34 24 14 4} {8 1} {8 7})
        		(hint {95 85 75 65 55 45 35 25 15 5} {5} {8})
        		(hint {96 86 76 66 56 46 36 26 16 6} {4 5} {8 7})
        		(hint {97 87 77 67 57 47 37 27 17 7} {6 2} {7 7})
        		(hint {98 88 78 68 58 48 38 28 18 8} {1 1 2 3} {7 4 7 7})
        		(hint {99 89 79 69 59 49 39 29 19 9} {1 2 1} {7 4 7})
            	}
            )>
            ""
        )
})

//------------------------------------------

(metadata    
	(info
	    {
	        (description "It's a variant of the nonogram. The rules are still the same but we add the fact that we fill color block and not only black boxes.")
	        (rules "You use digits to create a pattern of filled-in squares in the empty grid provided.  Each number on the lines outside the grid represents a block of squares to be color out in that row or column.")
	        (source "<a href=\"https://fr.wikipedia.org/wiki/Picross\" target=\"_blank\" class=\"style1\" style=\"color: #0000EE\" />Wikipedia</a>")
	        (version "1.3.12")
	        (classification "puzzle/deduction")
	        (credit "Pierre Accou")
	    }
	)
	
	(graphics {
		(piece Rename piece:"0" "cross")
		(piece Rename piece:"1" "Sq")
        //(piece Colour "Sq" fillColour:(colour 0 0 0))
        //(piece Scale piece:"1" 2)
        (piece Rename piece:"2" "Sq2")
        (piece Colour "Sq2" fillColour:(colour 255 255 255))
        //(piece Scale piece:"2" 2)
        (piece Rename piece:"3" "Sq3")
        (piece Colour "Sq3" fillColour:(colour 0 128 255))
        //(piece Scale piece:"3" 2)
        (piece Rename piece:"4" "Sq4")
        (piece Colour "Sq4" fillColour:(colour 255 0 0))
        //(piece Scale piece:"4" 2)
        (piece Rename piece:"5" "Sq5")
        (piece Colour "Sq5" fillColour:(colour 255 255 0))
        //(piece Scale piece:"5" 2)
        (piece Rename piece:"6" "Sq6")
        (piece Colour "Sq6" fillColour:(colour 128 255 0))
        //(piece Scale piece:"6" 2)
        (piece Rename piece:"7" "Sq7")
        (piece Colour "Sq7" fillColour:(colour 255 128 0))
        //(piece Scale piece:"7" 2)
        (piece Rename piece:"8" "Sq8")
        (piece Colour "Sq8" fillColour:(colour 127 0 255))
        //(piece Scale piece:"8" 2)
        (piece Colour "Sq" fillColour:(colour 0 0 0))
		(board Placement scale:0.6)
		(drawHint NextTo)
	})
)
