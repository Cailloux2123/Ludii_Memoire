(game "Nonogram" 
    (players 1) 
    (equipment { 
        (board (square <Challenge:size>) (values Cell (range 1)))
        <Challenge:hints>
        (regions HintRegions) 
        (piece "Square" P1)
    }) 
    (rules
        (play (satisfy {
        	    (is Match 0)
            })
        )
        (end (if (is Solved) (result P1 Win)))
    )
)

//------------------------------------------------------------------------------

(option "Challenge" <Challenge> args:{<size> <hints>}
    {
    (item "5" 
        <5>
        <
        (hints 
        	{
	        //Row
	        (hint {0 1 2 3 4} {1 2})
	        (hint {5 6 7 8 9} {4})
	        (hint {10 11 12 13 14} {1})
	        (hint {15 16 17 18 19} {2})
	        (hint {20 21 22 23 24} {5})
	        
	        //Column
	        (hint {20 15 10 5 0} {1 2})
	        (hint {21 16 11 6 1} {1 2})
	        (hint {22 17 12 7 2} {1 1})
	        (hint {23 18 13 8 3} {2 2})
	        (hint {24 19 14 9 4} {2 1})
        	}
        )>
        ""
    )
    (item "10" 
            <10>
            <
            (hints 
            	{
    	        //Row
    	        (hint {0..9} {3})
    	        (hint {10..19} {1 1})
    	        (hint {20..29} {3 2})
    	        (hint {30..39} {4 4})
    	        (hint {40..49} {3 2})
    	        (hint {50..59} {2})
    	        (hint {60..69} {2 2})
    	        (hint {70..79} {3 2})
    	        (hint {80..89} {9})
    	        (hint {90..99} {7})
    	        
    	        //Column
    	        (hint {90 80 70 60 50 40 30 20 10 0} {2})
    	        (hint {91 81 71 61 51 41 31 21 11 1} {2 5})
    	        (hint {92 82 72 62 52 42 32 22 12 2} {3 3 1})
    	        (hint {93 83 73 63 53 43 33 23 13 3} {4 4})
    	        (hint {94 84 74 64 54 44 34 24 14 4} {4})
    	        (hint {95 85 75 65 55 45 35 25 15 5} {2})
    	        (hint {96 86 76 66 56 46 36 26 16 6} {2 1})
    	        (hint {97 87 77 67 57 47 37 27 17 7} {2 1})
    	        (hint {98 88 78 68 58 48 38 28 18 8} {7})
    	        (hint {99 89 79 69 59 49 39 29 19 9} {7})
            	}
            )>
            ""
        )
    (item "15" 
            <15>
            <
            (hints 
            	{
    	        //Row
    	        (hint {0..14} {2 1 3})
    	        (hint {15..29} {9 2})
    	        (hint {30..44} {3 3 3})
    	        (hint {45..59} {9})
    	        (hint {60..74} {7 1 4})
    	        (hint {75..89} {6 2})
    	        (hint {90..104} {2 2})
    	        (hint {105..119} {2 3})
    	        (hint {120..134} {2 3 1})
    	        (hint {135..149} {5 5})
    	        (hint {150..164} {2 4})
    	        (hint {165..179} {1 3 1 1})
    	        (hint {180..194} {3})
    	        (hint {195..209} {2 3 4})
    	        (hint {210..224} {3 2 4})
    	        
    	        //Column
    	        (hint {210 195 180 165 150 135 120 105 90 75 60 45 30 15 0} {1 9})
    	        (hint {211 196 181 166 151 136 121 106 91 76 61 46 31 16 1} {2 9})
    	        (hint {212 197 182 167 152 137 122 107 92 77 62 47 32 17 2} {2 1 6})
    	        (hint {213 198 183 168 153 138 123 108 93 78 63 48 33 18 3} {1 3 3 2})
    	        (hint {214 199 184 169 154 139 124 109 94 79 64 49 34 19 4} {3 3 1})
    	        (hint {215 200 185 170 155 140 125 110 95 80 65 50 35 20 5} {1 3 1})
    	        (hint {216 201 186 171 156 141 126 111 96 81 66 51 36 21 6} {4})
    	        (hint {217 202 187 172 157 142 127 112 97 82 67 52 37 22 7} {2 3 4})
    	        (hint {218 203 188 173 158 143 128 113 98 83 68 53 38 23 8} {2 10})
    	        (hint {219 204 189 174 159 144 129 114 99 84 69 54 39 24 9} {1 7 1})
    	        (hint {220 205 190 175 160 145 130 115 100 85 70 55 40 25 10} {2 2})
    	        (hint {221 206 191 176 161 146 131 116 101 86 71 56 41 26 11} {2 3 1 3})
    	        (hint {222 207 192 177 162 147 132 117 102 87 72 57 42 27 12} {3 1 1})
    	        (hint {223 208 193 178 163 148 133 118 103 88 73 58 43 28 13} {3 1 1})
    	        (hint {224 209 194 179 164 149 134 119 104 89 74 59 44 29 14} {4 1})
            	}
            )>
            ""
        )
    (item "20" 
            <20>
            <
            (hints 
            	{
    	        //Row
    	        (hint {0..19} {3 9})
    	        (hint {20..39} {1 3 9})
    	        (hint {40..59} {7 3 5})
    	        (hint {60..79} {5 2 2 2})
    	        (hint {80..99} {5 2 2 3})
    	        (hint {100..119} {3 2 2 2 3})
    	        (hint {120..139} {2 1 3 2 1})
    	        (hint {140..159} {1 1 2 3 1})
    	        (hint {160..179} {2 2 2 1 2})
    	        (hint {180..199} {4 2 3 3})
    	        (hint {200..219} {1 1 2 3})
    	        (hint {220..239} {2 2 2 4})
    	        (hint {240..259} {3 3 1 4})
    	        (hint {260..279} {2 4 2 3})
    	        (hint {280..299} {1 1 4})
    	        (hint {300..319} {2 5})
    	        (hint {320..339} {4 1 5})
    	        (hint {340..359} {6 1 1 1})
    	        (hint {360..379} {2 9})
    	        (hint {380..399} {6})
    	        
    	        //Column
    	        (hint {380 360 340 320 300 280 260 240 220 200 180 160 140 120 100 80 60 40 20 0} {6})
    	        (hint {381 361 341 321 301 281 261 241 221 201 181 161 141 121 101 81 61 41 21 1} {2 2 2})
    	        (hint {382 362 342 322 302 282 262 242 222 202 182 162 142 122 102 82 62 42 22 2} {1 1 1})
    	        (hint {383 363 343 323 303 283 263 243 223 203 183 163 143 123 103 83 63 43 23 3} {2 2 2 2})
    	        (hint {384 364 344 324 304 284 264 244 224 204 184 164 144 124 104 84 64 44 24 4} {5 3 1})
    	        (hint {385 365 345 325 305 285 265 245 225 205 185 165 145 125 105 85 65 45 25 5} {4 1 3 1})
    	        (hint {386 366 346 326 306 286 266 246 226 206 186 166 146 126 106 86 66 46 26 6} {3 2 4 1})
    	        (hint {387 367 347 327 307 287 267 247 227 207 187 167 147 127 107 87 67 47 27 7} {2 3 8})
    	        (hint {388 368 348 328 308 288 268 248 228 208 188 168 148 128 108 88 68 48 28 8} {2 3 3})
    	        (hint {389 369 349 329 309 289 269 249 229 209 189 169 149 129 109 89 69 49 29 9} {3 2 2})
    	        (hint {390 370 350 330 310 290 270 250 230 210 190 170 130 110 110 90 70 50 30 10} {2 1 1 2})
    	        (hint {391 371 351 331 311 291 271 251 231 211 191 171 131 111 111 91 71 51 31 11} {3 7})
    	        (hint {392 372 352 332 312 292 272 252 232 212 192 172 132 112 112 92 72 52 32 12} {2 2 3 4})
    	        (hint {393 373 353 333 313 293 273 253 233 213 193 173 133 113 113 93 73 53 33 13} {3 9 3})
    	        (hint {394 374 354 334 314 294 274 254 234 214 194 174 134 114 114 94 74 54 34 14} {2 1 3 3 2})
    	        (hint {395 375 355 335 315 295 275 255 235 215 195 175 135 115 115 95 75 55 35 15} {1 2 3 5})
    	        (hint {396 376 356 336 316 296 276 256 236 216 196 176 136 116 116 96 76 56 36 16} {1 6 2 3})
    	        (hint {397 377 357 337 317 297 277 257 237 217 197 177 137 117 117 97 77 57 37 17} {9 4 3})
    	        (hint {398 378 358 338 318 298 278 258 238 218 198 178 138 118 118 98 78 58 38 18} {9 6})
    	        (hint {399 379 359 339 319 299 279 259 239 219 199 179 139 119 119 99 79 59 39 19} {2 13})
            	}
            )>
            ""
        )
})

//------------------------------------------

(metadata    
	(info
	    {
	        (description "Nonogram is a solitaire puzzle game in which the player discovers a design on a grid by filling in the squares, according to logical clues left on the edge of the grid.")
	        (aliases {"Picross" "Logigraphe" "hanjie" "griddler" "logimage"})
	        (rules "You use digits to create a pattern of filled-in squares in the empty grid provided.  Each number on the lines outside the grid represents a block of squares to be blacked out in that row or column (see 1 Across).")
	        (source "<a href=\"https://fr.wikipedia.org/wiki/Picross\" target=\"_blank\" class=\"style1\" style=\"color: #0000EE\" />Wikipedia</a>")
	        (version "1.3.12")
	        (classification "puzzle/deduction")
	        (credit "Pierre Accou")
	        (date "1925")
	    }
	)
	
	(graphics {
		(piece Rename piece:"0" "cross")
		(piece Rename piece:"1" "Sq")
        (piece Colour "Sq" fillColour:(colour 0 0 0))
        (piece Scale "Sq" 1.05)
		(board Placement scale:0.65)
		(drawHint NextTo)
	})
)
